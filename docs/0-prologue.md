# Prologue

## 셰이더는 무엇인가? 
게임의 환경설정에서 해상도 옵션을 많이 보신적이 있을텐데

예를 들어 1920x1080 해상도 모니터에 빨간색을 그려 넣는다고 가정하면
```typescript
type RGBA = [number, number, number, number];

const pixels: RGBA[][] = [];

for (let y = 0; y < 1080; y++) {
  pixels[y] = [];
  
  for (let x = 0; x < 1920; x++) {
    pixels[y][x] = [1, 0, 0, 1];
  }
}
```
위 예제에서 1920 * 1080 = 2,073,600번의 반복이 발생합니다.

그렇다면 게임에서는 보편적으로 초당 60번이상 계산 되어야 하는데

1920 * 1080 * 60 = 초당 124,416,000번의 계산이 이루어 져야합니다.

이 계산을 CPU로 하면 계산이 매우 오래걸리기 때문에 GPU를 통해 병렬로 계산합니다.

GPU를 구매할때 주로 보이는것이, 쿠다코어, 스트림 프로세서 라고하는 코어로 성능이 결정되는데,

제가 사용하는 RTX3080의 경우 스트림 프로세서가 10240개이니까

124,416,000 / 10,240 = 초당 12,150번의 병렬 프로세싱을 과정을 거쳐 계산합니다.

표현해야할 픽셀수가 많아지면 시간이 더 걸리게 됩니다. (이러한 이유로 4k, 8k 올라갈수록 프레임이 떨어지는 이유 입니다.)

오늘날 이런과정을 통해 GPU 연산을 이용하면 빠르다는 것을 알 수 있습니다.

또 GLSL에서 사용하는 sin, cos, mod 등 연산이 소프트웨어적으로 처리되는것이 아니라 하드웨어 위에서 처리되므로 매우 빠르게 연산됩니다.

다만 몇가지 조건이 있습니다. 디버깅이 매우 어렵고 쓰레드끼리 접근을 할 수 없습니다. 서로 실명상태라고 합니다.

위 예제 코드를 GLSL로 작성하면 다음과같이 표현할 수 있습니다.

```glsl
void main() {
  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
}
```